{% extends './base/base.html' %}

{% block estilos %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/carga.css') }}">
{% endblock %}
{% block titulo %}
    PROFILE
{% endblock %}

{% block contenido %}
    <div id="contenedor_carga">
        <div id="carga"></div>
    </div>

    <div class="container col-12 col-md-10 col-xl-9">
        <div class="row">
            <div class="col-12 col-md-3">
                <div class="row align-items-center">
                    <div class="col-6 col-md-12">
                        <div class="text-center mb-3 mt-3">
                            <img src="{{ url_for('static', filename='images/user.png') }}" alt="img_usuario" width="110" height="110">
                        </div>
                    </div>
                    <div class="col">
                        <div class="text-start mb-3 mt-3">
                            <div class="name mb-1">{{ user['nombre_usuario'] }} {{ user['apellido_usuario'] }}</div>
                            <div class="user mb-1">{{ user['user'] }}</div>
                            <div class="total ">Total archivos: {{ total_archives['COUNT(*)'] }}</div>
                        </div>
                        <div class="text-center">
                            <a href="{{ url_for('logout') }}" class="btn btn-danger">Cerrar sesion</a>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col">
                <div class="text-end mb-3 mt-3">
                    <a href="{{ url_for('CreateArchive') }}" class="btn btn-primary">Nuevo</a>
                </div>
                {% if total_archives['COUNT(*)'] == 0 %}
                    <div class="alert alert-secondary text-center" role="alert">
                        Hasta el momento no ha realizado registrado ningun archivo!
                    </div>
                {%endif%}
                {%if total_archives['COUNT(*)'] !=0 %}
                    <div class="row">
                        {% for archivo in archives %}
                            <div class="col-6 col-md-4 col-xl-3 mb-3">
                                <div class="card shadow-sm" style="height: 23rem;">
                                    <div class="contener-imagen">
                                        <img src="{{ archivo['ruta_vista'] }}" class="card-img-top imagen rounded" alt="...">
                                    </div>
                                    <div class="card-body ">
                                        <h5 class="card-title">{{ archivo['nombre_archivo'] }}</h5>
                                        <p class="card-text">
                                            <div>Peso:</div>
                                            <div>Tipo: .{{ archivo['type'] }}</div>
                                        </p>
                                        <div class="d-flex justify-content-evenly">
                                            <div>
                                                <a href="" class="btn btn-success btn-sm">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="20"><path fill-rule="evenodd" d="M1.513 1.96a1.374 1.374 0 011.499-.21l19.335 9.215a1.146 1.146 0 010 2.07L3.012 22.25a1.374 1.374 0 01-1.947-1.46L2.49 12 1.065 3.21a1.374 1.374 0 01.448-1.25zm2.375 10.79l-1.304 8.042L21.031 12 2.584 3.208l1.304 8.042h7.362a.75.75 0 010 1.5H3.888z"></path></svg>
                                                </a>
                                            </div>
                                            <div>
                                                <a href="" class="btn btn-primary btn-sm">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="20"><path fill-rule="evenodd" d="M17.263 2.177a1.75 1.75 0 012.474 0l2.586 2.586a1.75 1.75 0 010 2.474L19.53 10.03l-.012.013L8.69 20.378a1.75 1.75 0 01-.699.409l-5.523 1.68a.75.75 0 01-.935-.935l1.673-5.5a1.75 1.75 0 01.466-.756L14.476 4.963l2.787-2.786zm-2.275 4.371l-10.28 9.813a.25.25 0 00-.067.108l-1.264 4.154 4.177-1.271a.25.25 0 00.1-.059l10.273-9.806-2.94-2.939zM19 8.44l2.263-2.262a.25.25 0 000-.354l-2.586-2.586a.25.25 0 00-.354 0L16.061 5.5 19 8.44z"></path></svg>
                                                </a>
                                            </div>
                                            <div>
                                                <a href="" class="btn btn-danger btn-sm">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="20"><path fill-rule="evenodd" d="M16 1.75V3h5.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H8V1.75C8 .784 8.784 0 9.75 0h4.5C15.216 0 16 .784 16 1.75zm-6.5 0a.25.25 0 01.25-.25h4.5a.25.25 0 01.25.25V3h-5V1.75z"></path><path d="M4.997 6.178a.75.75 0 10-1.493.144L4.916 20.92a1.75 1.75 0 001.742 1.58h10.684a1.75 1.75 0 001.742-1.581l1.413-14.597a.75.75 0 00-1.494-.144l-1.412 14.596a.25.25 0 01-.249.226H6.658a.25.25 0 01-.249-.226L4.997 6.178z"></path><path d="M9.206 7.501a.75.75 0 01.793.705l.5 8.5A.75.75 0 119 16.794l-.5-8.5a.75.75 0 01.705-.793zm6.293.793A.75.75 0 1014 8.206l-.5 8.5a.75.75 0 001.498.088l.5-8.5z"></path></svg>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                  </div>
                            </div>
                        {% endfor %}
                    </div>
                {%endif%}
            </div>
        </div>
    </div>
    
{% endblock %}

{% block javascript %}
    <script src="{{ url_for('static', filename='js/carga.js') }}"></script>
{% endblock %}
